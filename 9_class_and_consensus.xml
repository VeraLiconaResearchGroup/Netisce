<tool id="netisce9" name="Netisce step 9" version="0.1.0" python_template_version="3.5">
<description>classifies perturbation attractors to k clusters with SVM, Naive Bayes and Random Forest
            and then extracts the perturbation attractors that shifted to the cluster associated to the desired phenotype by to 2/3 classification methods.</description>

    <requirements>
        <requirement type="package" version="1.1.5">pandas</requirement>
        <requirement type="package" version="3.5.0">collections</requirement>
        <requirement type="package" version="3.5.0">sys</requirement>
        <requirement type="package" version="1.0.1">sklearn.naive_bayes</requirement>
        <requirement type="package" version="1.0.1">sklearn.svm</requirement>
        <requirement type="package" version="1.0.1">sklearn.ensemble</requirement>
    </requirements>
    
    <command> python3 '$__tool_directory__/bin/class_and_consensus.py' '$experimental_attractors','$random_attractors' '$pert_attrs' '$kmeans' </command>

    <inputs>
        <param name="experimental_attractors" type="data" format="tabular" label="Attractors Generated from Experimental Samples"/>
        <param name="random_attractors" type="data" format="tabular" label="Attractors Generated from randomly generated initial states."/>
        <param name="pert_attrs" type="data" format="tabular" label="Attractors when FVS set is randomly perturbed"/>
        <param name="kmeans" type="data" format="txt" label="K-means clustering of experimental and insilico attractors"/>
    </inputs>

    <outputs>
        <data name="output" format="txt" from_work_dir="crit1perts.txt" label="Names of perturbations whose attractors shifted to a the cluster associated with the desired phenotype"/>
    </outputs>

    <tests>
        <test>
            <param name="train_attrs" value="attrs_exp.tsv,attrs_insilico.tsv"/>
            <param name="test_attrs" value="pert_logss.tsv"/>
            <param name="kmeans" value="kmeans.txt"/>
            <output name="output" value="crit1perts.txt" ftype="txt"/>
        </test>
    </tests>

    <help>
    Classifies perturbation attractors to k clusters with SVM, Naive Bayes and Random Forest
    and then extracts the perturbation attractors that shifted to the cluster associated to the desired phenotype by to 2/3 classification methods.
    Required Inputs:
    1. Training Set: Experimental and Insilico Attractors
    2. Test Set: Perturbation Attractors
    3. K-mean classifications of training set attractors
    </help>

</tool>